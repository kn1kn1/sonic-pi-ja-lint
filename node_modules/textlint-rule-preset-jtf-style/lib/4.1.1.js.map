{"version":3,"sources":["../src/4.1.1.js"],"names":[],"mappings":";AACA;;;;;;;;;;;;;AAQA;;AACA;;;;AACA,IAAM,WAAW,CACb,GADa,EACR,GADQ,EACH,KADG,CAAX;AAGN,IAAM,eAAe,SAAS,GAAT,CAAa,mBAAW;AACzC,WAAO,IAAI,MAAJ,CAAW,UAAU,OAAV,EAAmB,GAA9B,CAAP,CADyC;CAAX,CAA5B;AAGN,IAAI,WAAW,SAAS,QAAT,CAAkB,OAAlB,EAA2B;QACjC,SAA+C,QAA/C,OADiC;QACzB,YAAuC,QAAvC,UADyB;QACd,SAA4B,QAA5B,OADc;QACN,QAAoB,QAApB,MADM;QACC,YAAa,QAAb,UADD;;AAEtC,+BACK,OAAO,GAAP,YAAY,MAAK;AACd,YAAI,CAAC,iCAAkB,IAAlB,EAAwB,OAAxB,CAAD,EAAmC;AACnC,mBADmC;SAAvC;AAGA,YAAI,OAAO,UAAU,IAAV,CAAP,CAJU;AAKd,qBAAa,OAAb,CAAqB,mBAAW;AAC5B,kDAAqB,IAArB,EAA2B,OAA3B,EAAoC,OAApC,CAA4C,iBAAS;oBAC1C,QAAS,MAAT,MAD0C;;AAEjD,uBAAO,IAAP,EAAa,IAAI,SAAJ,CAAc,kCAAd,EAAkD;AAC3D,2BAAO,KAAP;AACA,yBAAK,MAAM,gBAAN,CAAuB,CAAC,KAAD,EAAQ,QAAQ,CAAR,CAA/B,EAA2C,EAA3C,CAAL;iBAFS,CAAb,EAFiD;aAAT,CAA5C,CAD4B;SAAX,CAArB,CALc;MADtB,CAFsC;CAA3B;kBAoBA;AACX,YAAQ,QAAR;AACA,WAAO,QAAP","file":"4.1.1.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n4.1.1. 句点(。)\n句点(。)は「全角」で表記します。\n句点は文の終わりに付けます。\n文中にかぎかっこが入る場合は、閉じかっこの前に句点を打ちません。\n文中に丸かっこが入る場合も閉じかっこの前に句点を打ちません。。\n */\nimport {isUserWrittenNode} from \"./util/node-util\";\nimport {matchCaptureGroupAll} from \"match-index\";\nconst brackets = [\n    \"」\", \"）\", \"\\\\)\"\n];\nconst leftBrackets = brackets.map(bracket => {\n    return new RegExp(\"\\(。\\)\" + bracket, \"g\");\n});\nvar reporter = function reporter(context) {\n    let {Syntax, RuleError, report, fixer, getSource} = context;\n    return {\n        [Syntax.Str](node){\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            let text = getSource(node);\n            leftBrackets.forEach(pattern => {\n                matchCaptureGroupAll(text, pattern).forEach(match => {\n                    const {index} = match;\n                    report(node, new RuleError(\"文中にかぎかっこが入る場合は、閉じかっこの前に句点を打ちません。\", {\n                        index: index,\n                        fix: fixer.replaceTextRange([index, index + 1], \"\")\n                    }));\n                });\n            });\n        }\n    };\n};\nexport default {\n    linter: reporter,\n    fixer: reporter\n};"]}